# План улучшения покрытия тестами

## Модули с низким покрытием

### 1. `core/logic/game_actions.py` - 10% покрытия
Файл содержит логику игры, которую необходимо покрыть тестами:
- [ ] Тесты для всех игровых действий
- [ ] Тесты случайных событий
- [ ] Тесты алгоритмов генерации результатов

### 2. `core/services/user_service.py` - 0% покрытия
Сервис для работы с пользователями:
- [ ] Тесты регистрации пользователя
- [ ] Тесты обновления информации о пользователе
- [ ] Тесты получения данных пользователя
- [ ] Тесты безопасности операций с пользователями

### 3. `core/services/premium_checker_service.py` - 0% покрытия
Сервис проверки премиум-статуса:
- [ ] Тесты проверки статуса премиум-подписки
- [ ] Тесты истечения подписки
- [ ] Тесты обновления статуса подписки

### 4. `handlers/user/analytics.py` - 0% покрытия
Обработчики аналитики:
- [ ] Тесты отображения меню аналитики
- [ ] Тесты просмотра аналитики розыгрышей
- [ ] Тесты получения данных аналитики

### 5. `main.py` - 0% покрытия
Основной файл приложения:
- [ ] Тесты запуска приложения
- [ ] Тесты обработки сигналов
- [ ] Тесты инициализации бота

### 6. `core/services/channel_service.py` - 29% покрытия
Сервис работы с каналами:
- [ ] Тесты проверки подписки пользователя на канал
- [ ] Тесты получения списка каналов
- [ ] Тесты проверки прав бота в канале
- [ ] Тесты валидации каналов

### 7. `core/services/checker_service.py` - 21% покрытия
Сервис проверки:
- [ ] Тесты проверки данных
- [ ] Тесты валидации ввода
- [ ] Тесты проверки безопасности

### 8. `core/services/message_service.py` - 21% покрытия
Сервис работы с сообщениями:
- [ ] Тесты отправки сообщений
- [ ] Тесты форматирования сообщений
- [ ] Тесты обработки медиа-файлов

### 9. `handlers/creator/constructor/publication.py` - 20% покрытия
Обработчики публикации розыгрышей:
- [ ] Тесты публикации розыгрыша
- [ ] Тесты валидации данных перед публикацией
- [ ] Тесты обработки ошибок публикации

### 10. `handlers/participant/boost_tickets.py` - 20% покрытия
Обработчики буст-билетов:
- [ ] Тесты отображения опций буста
- [ ] Тесты получения буст-билетов за сторис
- [ ] Тесты получения буст-билетов за канал
- [ ] Тесты отображения реферальной информации

## Приоритеты

### Высокий приоритет:
- `core/services/user_service.py` - критическая функциональность
- `core/services/premium_checker_service.py` - важная бизнес-логика
- `handlers/user/analytics.py` - важная функция для пользователей

### Средний приоритет:
- `core/services/channel_service.py` - важна для функции обязательной подписки
- `handlers/creator/constructor/publication.py` - важна для публикации розыгрышей
- `handlers/participant/boost_tickets.py` - важна для функции буста

### Низкий приоритет:
- `core/logic/game_actions.py` - если используется в проекте
- `main.py` - тесты инфраструктуры
- `core/services/checker_service.py`, `core/services/message_service.py` - вспомогательные сервисы